<div class="container-fluid">
  <div id="container">

    <app-nav-bar></app-nav-bar>

    <div class="row">
      <div class="nome-perfil">
        <h2 class="nome-perfil">Seja bem-vindo(a), {{usuario}}!</h2>
      </div>
    </div>

    <div class="row botoes">
      <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12">
        <div class="botoes-perfil">
          <div class="circulo1">
            <i class="fas fa-pen img-circulo1"></i>
          </div>

          <button class="button">
            <a class="nav-link editar-perfil-button" >
            <!-- MODAL -->
            <!-- Botão para acionar modal -->
              <button type="button" class="btn title-button1" data-toggle="modal" data-target="#ExemploModalCentralizado">
                Cadastrar Estabelecimento
              </button>

            <!-- Modal -->
              <div class="modal fade" id="ExemploModalCentralizado" tabindex="-1" role="dialog" aria-labelledby="TituloModalCentralizado" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="TituloModalCentralizado">Cadastrar estabelecimento</h5>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>

                    <div class="modal-body">
                      <form [formGroup]="formulario" (ngSubmit)="cadastrar()">
                        <div class="form-group div-uploads" >
                          <p-fileUpload #upload
                            name="demo[]"
                            chooseLabel="Escolher uma foto"
                            [showUploadButton]="false"
                            [showCancelButton]="false"
                            (onSelect)="enviarImagem($event)"
                            [multiple]="true"
                            accept="image/*"
                            maxFileSize="1000000">
                          </p-fileUpload>
                        </div>

                        <div class="row">
                          <div class="col-12 col-md-6">
                            <input type="text" class="input mt-3" placeholder="Nome" name="nome"  formControlName="nome">
                          </div>

                          <div class="col-12 col-md-6">
                            <input
                              type="text"
                              class="input mt-4 form-control"
                              placeholder="CNPJ"
                              formControlName="cnpj"
                              mask="00.000.000/0000-00"
                              [class]="(submitted && formulario.get('cnpj').errors) ||
                              (formulario.get('cnpj').errors && formulario.get('cnpj').dirty) ? 'is-invalid' :
                              formulario.get('cnpj').dirty ? 'is-valid' : '' "
                            />

                            <div
                              *ngIf="formulario.get('cnpj').errors?.required"
                              class="invalid-feedback">
                              CNPJ é obrigatório!
                            </div>

                            <div
                              *ngIf="formulario.get('cnpj').errors?.minlength"
                              class="invalid-feedback">
                              CNPJ inválido
                            </div>
                          </div>
                        </div>

                        <div class="row">
                          <div class="col-12 col-md-6">
                            <input type="text" class="input mt-4" placeholder="Rua" name="rua"  formControlName="rua">
                          </div>

                          <div class="col-12 col-md-6">
                            <input type="text" class="input mt-4" placeholder="Telefone" name="telefone" >
                          </div>
                        </div>

                        <div class="row">
                          <div class="col-12 col-md-6">
                            <input type="text" class="input mt-4" placeholder="Bairro" name="bairro"  formControlName="bairro">
                          </div>

                          <div class="col-12 col-md-3">
                            <input type="text" class="input mt-4" placeholder="CEP" name="cep"  formControlName="cep">
                          </div>

                          <div class="col-12 col-md-3">
                            <input type="text" class="input mt-4" placeholder="Número" name="numero"  formControlName="numero">
                          </div>
                        </div>

                        <div class="row">
                          <div class="col-12 col-md-6 ">
                            <div class="mt-4 input no-padding">
                              <p-dropdown
                                placeholder="Estado"
                                [options]="estados"
                                formControlName="estado"
                                placeholder="Estado"
                                [filter]="true"
                                [style]="{'width': '100%', 'border': '0', 'height': '100%', 'border-radius': '10px'}"
                                (onChange)="listarCidades()">
                              </p-dropdown>
                            </div>
                          </div>

                          <div class="col-12 col-md-6">
                            <div class="mt-4 input no-padding">
                              <p-dropdown
                                placeholder="Cidade"
                                [options]="cidades"
                                formControlName="cidade"
                                [filter]="true"
                                [style]="{'width': '100%', 'border': '0', 'height': '100%', 'border-radius': '10px'}">
                              </p-dropdown>
                            </div>
                          </div>
                        </div>

                        <div>
                          <textarea class="descricao mt-4" rows="4" cols="60" placeholder="Descrição do local" name="descricao"></textarea>
                        </div>

                        <div class="mt-2 mb-3">
                          <div class="div-filtros">
                            <p class="title-filtros"> Acessível para deficiência:</p>
                          </div>

                          <div id="filtro-deficiencia">
                            <div class="col-md-7 text-center">
                              <ul>
                                <li>
                                  <input type="checkbox" id="myCheckbox1" />
                                  <label for="myCheckbox1">
                                    <div class="checkbox-img">
                                      <img class="img-deficiencias" src="../../assets/images/mobilidade.png" />
                                      <p>Motora</p>
                                    </div>
                                  </label>
                                </li>

                                <li>
                                  <input type="checkbox" id="myCheckbox2" />
                                  <label for="myCheckbox2">
                                    <div class="checkbox-img">
                                      <img class="img-deficiencias" src="../../assets/images/auditivo.png" />
                                      <p>Auditiva</p>
                                    </div>
                                  </label>
                                </li>

                                <li>
                                  <input type="checkbox" id="myCheckbox3" />
                                  <label for="myCheckbox3">
                                    <div class="checkbox-img">
                                      <img class="img-deficiencias" src="../../assets/images/cego.png" />
                                      <p>Visual</p>
                                    </div>
                                  </label>
                                </li>

                                <li>
                                  <input type="checkbox" id="myCheckbox4" />
                                  <label for="myCheckbox4">
                                    <div class="checkbox-img">
                                      <img class="img-deficiencias" src="../../assets/images/intelectual.png" />
                                      <p>Intelectual</p>
                                    </div>
                                  </label>
                                </li>
                              </ul>
                            </div>
                          </div>
                        </div>

                        <div class="float-right mb-5">
                          <button type="button" class="btn cancelar  btn-outline-secondary" routerLink="/perfilParceiro">Cancelar</button>
                          <button type="submit" class="btn cadastrar">{{ operacao ? "Cadastrar" : "Atualizar" }}</button>
                        </div>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
              <!-- FIM MODAL -->
              <p class="description-button">
                Imagens, nome do estabelecimento, email, telefone, descrição, acessibilidades...
              </p>
            </a>
          </button>
        </div>
      </div>

      <div class="col-xl-6 col-lg-6 col-md-6 col-sm-12">
        <div class="botoes-perfil">
          <div class="circulo2">
            <i class="far fa-list-alt img-circulo2"></i>
          </div>

          <button class="button">
            <a class="nav-link editar-perfil-button" >
            <!-- MODAL -->
            <!-- Botão para acionar modal -->
              <button type="button" class="btn title-button2">
                Ver estabelecimentos cadastrados
              </button>

              <p class="description-button">Atualizar dados do estabelecimento, excluir estabelecimento...</p>
            </a>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
